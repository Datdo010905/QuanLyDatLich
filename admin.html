<html lang="vi">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Admin - 30Shine</title>
    <link rel="stylesheet" href="css/admin.css" />
    <script src="js/data.js"></script>
    <script src="js/login.js"></script>
    <script src="js/admin.js"></script>
    <link rel="icon" href="img/logo.png" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body>
    <div class="admin-layout">
        <aside class="sidebar" id="sidebar">
            <div class="brand">
                <a href="admin.html"><img src="img/logo.png" alt="logo" /></a>
            </div>
            <nav>
                <a class="active" data-section="dashboard"><i class="fas fa-tachometer-alt"></i> Tổng quan</a>
                <a data-section="accounts"><i class="fas fa-user-shield"></i> Tài khoản</a>
                <a data-section="promotions"><i class="fas fa-tags"></i> Khuyến mại</a>
                <a data-section="services"><i class="fas fa-concierge-bell"></i> Dịch vụ</a>
                <a data-section="customers"><i class="fas fa-users"></i> Khách hàng</a>
                <a data-section="staff"><i class="fas fa-user-tie"></i> Nhân viên</a>
                <a data-section="invoices"><i class="fas fa-file-invoice-dollar"></i> Hoá đơn</a>
                <a data-section="bookings"><i class="fas fa-calendar-check"></i> Lịch hẹn</a>
                <a data-section="reports"><i class="fas fa-chart-line"></i> Báo cáo</a>
            </nav>

            <div class="accounts">
                <div class="row">
                    <span> Người dùng:</span>
                    <strong id="login-hello"></strong>
                </div>
            </div>

            <div class="sidebar-footer">
                <button id="logoutBtn" onclick="dangXuat(event)"><i class="fas fa-sign-out-alt"></i> Đăng xuất</button>
            </div>
        </aside>

        <main class="main">
            <header class="topbar">
                <button id="toggleSidebar" class="icon-btn"><i class="fas fa-bars"></i></button>
                <div class="topbar-right">
                    <input id="adminSearch" placeholder="Tìm kiếm..." />
                    <button class="icon-btn"><i class="fas fa-search"></i></button>
                </div>
            </header>

            <section class="content" id="content">

                <!-- Dashboard -->
                <div id="dashboard" class="section active-section">
                    <div class="cards">
                        <div class="card">
                            <h3>Tổng khách</h3>
                            <p id="totalUsers">0</p>
                        </div>
                        <div class="card">
                            <h3>Đặt lịch hôm nay</h3>
                            <p id="todayBookings">0</p>
                        </div>
                        <div class="card">
                            <h3>Doanh thu (tạm)</h3>
                            <p id="revenue">0₫</p>
                        </div>
                    </div>
                    <div class="panel">
                        <h2>Hoạt động gần đây</h2>
                        <table class="table" id="recentTable">
                            <thead>
                                <tr>
                                    <th>Thời gian</th>
                                    <th>Sự kiện</th>
                                    <th>Người dùng</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Thời gian</td>
                                    <td>Sự kiện</td>
                                    <td>Người dùng</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Accounts -->
                <div id="accounts" class="section">
                    <div class="panel header-actions">
                        <h2>Tài khoản</h2>
                        <button id="addAccountBtn" class="btn primary" onclick="openAccountModal()">Thêm tài
                            khoản</button>
                    </div>
                    <div class="panel">
                        <table class="table" id="accountsTable">
                            <thead>
                                <tr>
                                    <th>Tên đăng nhập</th>
                                    <th>Mật khẩu</th>
                                    <th>Quyền hạn</th>
                                    <th>Trạng thái</th>
                                    <th>Hành động</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
                <div id="addAccountModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Thêm Tài Khoản Mới</h3>
                            <span class="close-btn" onclick="closeAccountModal()">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form id="addAccountForm">
                                <div class="form-group">
                                    <label for="accUsername">Tên đăng nhập:</label>
                                    <input type="text" id="accUsername" placeholder="Nhập tên đăng nhập..." required>
                                </div>
                                <div class="form-group">
                                    <label for="accPassword">Mật khẩu:</label>
                                    <input type="password" id="accPassword" placeholder="Nhập mật khẩu..." required>
                                </div>
                                <div class="form-group">
                                    <label for="accRole">Quyền hạn:</label>
                                    <select id="accRole">
                                        <option value="0">Khách hàng</option>
                                        <option value="2">Nhân viên</option>
                                        <option value="1">Quản lý</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="accStatus">Trạng thái:</label>
                                    <select id="accStatus">
                                        <option value="Hoạt động">Hoạt động</option>
                                        <option value="Đã khóa">Đã khóa</option>
                                    </select>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn secondary"
                                        onclick="closeAccountModal()">Hủy</button>
                                    <button type="submit" class="btn primary" onclick="themTaiKhoan(event)">Lưu tài
                                        khoản</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div id="editAccountModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Sửa Tài Khoản</h3>
                            <span class="close-btn" onclick="closeEditModal()">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form id="editAccountForm">
                                <div class="form-group">
                                    <label for="editUsername">Tên đăng nhập:</label>
                                    <input type="text" id="editUsername" placeholder="Nhập tên đăng nhập..." readonly>
                                </div>
                                <div class="form-group">
                                    <label for="editPassword">Mật khẩu:</label>
                                    <input type="password" id="editPassword" placeholder="Nhập mật khẩu..." required>
                                </div>
                                <div class="form-group">
                                    <label for="editRole">Quyền hạn:</label>
                                    <select id="editRole">
                                        <option value="0">Khách hàng</option>
                                        <option value="2">Nhân viên</option>
                                        <option value="1">Quản lý</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="editStatus">Trạng thái:</label>
                                    <select id="editStatus">
                                        <option value="Hoạt động">Hoạt động</option>
                                        <option value="Đã khóa">Đã khóa</option>
                                    </select>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn secondary" onclick="closeEditModal()">Hủy</button>
                                    <button type="submit" class="btn primary" onclick="suaTaiKhoan(event)">Lưu thay
                                        đổi</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>


                <!-- Promotions -->
                <div id="promotions" class="section">
                    <div class="panel header-actions">
                        <h2>Khuyến mại</h2>
                        <button id="addPromotionBtn" class="btn primary" onclick="openModal('addPromotionModal')">Thêm
                            khuyến mại</button>
                    </div>
                    <div class="panel">
                        <table class="table" id="promotionsTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Tên Khuyến Mãi</th>
                                    <th>Mô Tả</th>
                                    <th>Ngày bắt đầu</th>
                                    <th>Ngày kết thúc</th>
                                    <th>Giá Trị</th>
                                    <th>Trạng Thái</th>
                                    <th>Hành động</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
                <div id="addPromotionModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Thêm Khuyến Mại</h3>
                            <span class="close-btn" onclick="closeModal('addPromotionModal')">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form id="addPromotionForm">
                                <div class="form-group">
                                    <label>Mã khuyến mại:</label>
                                    <input type="text" id="promoID" required placeholder="VD: KM001">
                                </div>
                                <div class="form-group">
                                    <label>Tên chương trình:</label>
                                    <input type="text" id="promoName" required placeholder="VD: Giảm giá mùa hè">
                                </div>
                                <div class="form-group">
                                    <label>Mô tả:</label>
                                    <textarea id="promoDesc" rows="3"></textarea>
                                </div>
                                <div class="form-group">
                                    <label>Ngày bắt đầu:</label>
                                    <input type="date" id="promoStart">
                                </div>
                                <div class="form-group">
                                    <label>Ngày kết thúc:</label>
                                    <input type="date" id="promoEnd">
                                </div>
                                <div class="form-group">
                                    <label>Giá trị giảm (%):</label>
                                    <input type="text" id="promoValue" required>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn secondary"
                                        onclick="closeModal('addPromotionModal')">Hủy</button>
                                    <button type="submit" class="btn primary" onclick = "themKhuyenMai(event)">Lưu khuyến mại</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div id="editPromotionModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Sửa Khuyến Mại</h3>
                            <span class="close-btn" onclick="closeModal('editPromotionModal')">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form onsubmit="capNhatKhuyenMai(event)">
                                <input type="hidden" id="editPromoId">

                                <div class="form-group">
                                    <label>Tên chương trình:</label>
                                    <input type="text" id="editPromoName" required>
                                </div>
                                <div class="form-group">
                                    <label>Mô tả:</label>
                                    <textarea id="editPromoDesc" rows="3"></textarea>
                                </div>
                                <div class="form-group">
                                    <label>Ngày bắt đầu:</label>
                                    <input type="date" id="editPromoStart">
                                </div>
                                <div class="form-group">
                                    <label>Ngày kết thúc:</label>
                                    <input type="date" id="editPromoEnd">
                                </div>
                                <div class="form-group">
                                    <label>Giá trị giảm (%):</label>
                                    <input type="text" id="editPromoValue" required>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn secondary"
                                        onclick="closeModal('editPromotionModal')">Hủy</button>
                                    <button type="submit" class="btn primary" onclick = "suaKhuyenMai(event)">Cập nhật</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>



                <div id="services" class="section">
                    <div class="panel header-actions">
                        <h2>Dịch vụ</h2>
                        <button id="addServiceBtn" class="btn primary" onclick="openModal('addServiceModal')">Thêm dịch
                            vụ</button>
                    </div>

                    <div class="panel">
                        <h3>Tóc</h3>
                        <div class="table-wrapper">
                            <table class="table" id="hairServicesTable">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Tên Dịch Vụ</th>
                                        <th>Mô Tả</th>
                                        <th>Thời Gian (phút)</th>
                                        <th>Giá (VND)</th>
                                        <th>Trạng Thái</th>
                                        <th>Ảnh</th>
                                        <th>Quy Trình</th>
                                        <th>Hành Động</th>
                                    </tr>
                                </thead>
                                <tbody id="hairServicesTbody"></tbody>
                            </table>
                        </div>
                    </div>

                    <div class="panel">
                        <h3>Chăm sóc da & Thư giãn</h3>
                        <div class="table-wrapper">
                            <table class="table" id="skinCareServicesTable">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Tên Dịch Vụ</th>
                                        <th>Mô Tả</th>
                                        <th>Thời Gian (phút)</th>
                                        <th>Giá (VND)</th>
                                        <th>Trạng Thái</th>
                                        <th>Ảnh</th>
                                        <th>Quy Trình</th>
                                        <th>Hành Động</th>
                                    </tr>
                                </thead>
                                <tbody id="skinCareServicesTbody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <!-- Add Service Modal -->
                <div id="addServiceModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Thêm Dịch Vụ Mới</h3>
                            <span class="close-btn" onclick="closeModal('addServiceModal')">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form id="addServiceForm">
                                <!-- Tên Dịch Vụ -->
                                <div class="form-group">
                                    <label>Mã dịch vụ:</label>
                                    <input type="text" id="serviceID" required placeholder="VD: CSD001">
                                </div>
                                <!-- Tên Dịch Vụ -->
                                <div class="form-group">
                                    <label>Tên dịch vụ:</label>
                                    <input type="text" id="serviceName" required placeholder="VD: Cắt tóc nam">
                                </div>
                                <div class="form-group"> <label>Loại dịch vụ:</label> <select id="serviceType">
                                        <option value="hair">Dịch vụ tóc</option>
                                        <option value="skin">Chăm sóc da</option>
                                    </select> </div>
                                <!-- Mô Tả -->
                                <div class="form-group">
                                    <label>Mô tả:</label>
                                    <textarea id="serviceDesc" rows="3" placeholder="Nhập mô tả dịch vụ, VD: mota1, mota2, mota3"></textarea>
                                </div>
                                <!-- Thời gian -->
                                <div class="form-group">
                                    <label>Thời gian (phút):</label>
                                    <input type="number" id="serviceTime" required placeholder="VD: 60">
                                </div>
                                <!-- Giá -->
                                <div class="form-group">
                                    <label>Giá (VND):</label>
                                    <input type="number" id="servicePrice" required placeholder="VD: 150000">
                                </div>
                                <!-- Trạng thái -->
                                <div class="form-group">
                                    <label>Trạng thái:</label>
                                    <select id="serviceStatus">
                                        <option value="Đang cung cấp">Đang cung cấp</option>
                                        <option value="Ngừng cung cấp">Ngừng cung cấp</option>
                                    </select>
                                </div>
                                <!-- Ảnh -->
                                <div class="form-group">
                                    <label>Ảnh:</label>
                                    <input type="text" id="serviceImg" placeholder="Link ảnh minh họa, VD: 'img/product/goi-thu-gian-2.png'">
                                </div>
                                <!-- Quy trình -->
                                <div class="form-group">
                                    <label>Quy trình:</label>
                                    <textarea id="serviceProcedure" rows="3"
                                        placeholder="Nhập quy trình dịch vụ, VD: quytrinh1-quytrinh2-quytrinh3"></textarea>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn secondary"
                                        onclick="closeModal('addServiceModal')">Hủy</button>
                                    <button type="submit" class="btn primary" onclick="themDichVu(event)">Lưu dịch vụ</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Edit Service Modal -->
                <div id="editServiceModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Sửa Dịch Vụ</h3>
                            <span class="close-btn" onclick="closeModal('editServiceModal')">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form>
                                <input type="hidden" id="editServiceId">
                                <div class="form-group">
                                    <label>Tên dịch vụ:</label>
                                    <input type="text" id="editServiceName" required placeholder="VD: Cắt tóc nam">
                                </div>
                                <div class="form-group">
                                    <label>Mô tả:</label>
                                    <textarea id="editServiceDesc" rows="3" placeholder="Nhập mô tả dịch vụ"></textarea>
                                </div>
                                <div class="form-group">
                                    <label>Thời gian (phút):</label>
                                    <input type="number" id="editServiceTime" required placeholder="VD: 60">
                                </div>
                                <div class="form-group">
                                    <label>Giá (VND):</label>
                                    <input type="number" id="editServicePrice" required placeholder="VD: 150000">
                                </div>
                                <div class="form-group">
                                    <label>Trạng thái:</label>
                                    <select id="editServiceStatus">
                                        <option value="Đang cung cấp">Đang cung cấp</option>
                                        <option value="Ngừng cung cấp">Ngừng cung cấp</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Ảnh:</label>
                                    <input type="text" id="editServiceImg" placeholder="Link ảnh minh họa, VD: 'img/product/goi-thu-gian-2.png'">
                                </div>
                                <div class="form-group">
                                    <label>Quy trình:</label>
                                    <textarea id="editServiceProcedure" rows="3"
                                        placeholder="Nhập quy trình dịch vụ"></textarea>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn secondary"
                                        onclick="closeModal('editServiceModal')">Hủy</button>
                                    <button type="submit" class="btn primary" onclick="suaDichVu(event)">Cập nhật</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>


                <!-- Customers -->
                <div id="customers" class="section">
                    <div class="panel header-actions">
                        <h2>Khách hàng</h2>
                        <button id="addCustomerBtn" class="btn primary" onclick="openModal('addCustomerModal')">Thêm
                            khách</button>
                    </div>
                    <div class="panel">
                        <table class="table" id="customersTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Họ và tên</th>
                                    <th>Số điện thoại</th>
                                    <th>Tài khoản</th>
                                    <th>Hành động</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
                <!-- Thêm khách hàng -->
                <div id="addCustomerModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Thêm Khách Hàng</h3>
                            <span class="close-btn" onclick="closeModal('addCustomerModal')">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form id="addCustomerForm">
                                <div class="form-group">
                                    <label for="custName">Mã khách hàng:</label>
                                    <input type="text" id="custID" placeholder="Nhập mã khách hàng..." required>
                                </div>
                                <div class="form-group">
                                    <label for="custName">Họ và tên:</label>
                                    <input type="text" id="custName" placeholder="Nhập họ tên..." required>
                                </div>
                                <div class="form-group">
                                    <label for="custPhone">Số điện thoại:</label>
                                    <input type="text" id="custPhone" maxlength = "10" oninput="this.value = this.value.replace(/[^0-9]/g, '')" placeholder="Nhập số điện thoại..." required>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn secondary"
                                        onclick="closeModal('addCustomerModal')">Hủy</button>
                                    <button type="submit" class="btn primary" onclick="themKhachHang(event)">Lưu khách
                                        hàng</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Sửa khách hàng -->
                <div id="editCustomerModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Sửa Khách Hàng</h3>
                            <span class="close-btn" onclick="closeModal('editCustomerModal')">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form id="editCustomerForm">
                                <div class="form-group">
                                    <input type="hidden" id="editCustID" readonly>
                                </div>
                                <div class="form-group">
                                    <label for="editCustName">Họ và tên:</label>
                                    <input type="text" id="editCustName" required>
                                </div>
                                <div class="form-group">
                                    <label for="editCustPhone">Số điện thoại:</label>
                                    <input type="text" maxlength="10" oninput="this.value = this.value.replace(/[^0-9]/g, '')" id="editCustPhone" required>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn secondary"
                                        onclick="closeModal('editCustomerModal')">Hủy</button>
                                    <button type="submit" class="btn primary" onclick="suaKhachHang(event)">Lưu thay
                                        đổi</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>


                <!-- Staff -->
                <div id="staff" class="section">
                    <div class="panel header-actions">
                        <h2>Nhân viên</h2>
                        <button id="addStaffBtn" class="btn primary" onclick="openModal('addStaffModal')">Thêm nhân
                            viên</button>
                    </div>
                    <div class="panel">
                        <table class="table" id="staffTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Họ Tên</th>
                                    <th>Chức Vụ</th>
                                    <th>Số điện thoại</th>
                                    <th>Địa chỉ</th>
                                    <th>Ngày Sinh</th>
                                    <th>Tài khoản</th>
                                    <th>Chi nhánh</th>
                                    <th>Hành Động</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
                <div id="addStaffModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Thêm Nhân Viên</h3>
                            <span class="close-btn" onclick="closeModal('addStaffModal')">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form id="addStaffForm">
                                 <div class="form-group">
                                    <label>Mã nhân viên:</label>
                                    <input type="text" id="staffID" required>
                                </div>
                                <div class="form-group">
                                    <label>Họ tên:</label>
                                    <input type="text" id="staffName" required>
                                </div>
                                <!-- Chức vụ -->
                                <div class="form-group">
                                    <label>Chức vụ:</label>
                                    <select id="staffRole" required>
                                        <option value="stylist">Stylist</option>
                                        <option value="skincare">Chuyên viên da</option>
                                        <option value="reception">Lễ tân</option>
                                        <option value="manager">Quản lý</option>
                                    </select>
                                </div>
                                <!-- Số điện thoại -->
                                <div class="form-group">
                                    <label>Số điện thoại:</label>
                                    <input type="tel" id="staffPhone" required placeholder="VD: 0912345678">
                                </div>
                                <!-- Địa chỉ -->
                                <div class="form-group">
                                    <label>Địa chỉ:</label>
                                    <input type="text" id="staffAddress" placeholder="Nhập địa chỉ nhân viên">
                                </div>
                                <!-- Ngày sinh -->
                                <div class="form-group">
                                    <label>Ngày sinh:</label>
                                    <input type="date" id="staffBirth">
                                </div>
                                <!-- Tài khoản -->
                                <div class="form-group">
                                    <label>Tài khoản:</label>
                                    <input type="text" id="staffAccount" placeholder="Nhập tài khoản">
                                </div>
                                <!-- Chi nhánh -->
                                <div class="form-group">
                                    <label>Chi nhánh:</label>
                                    <input type="text" id="staffBranch" placeholder="Nhập mã chi nhánh">
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn secondary"
                                        onclick="closeModal('addStaffModal')">Hủy</button>
                                    <button type="submit" class="btn primary">Lưu nhân viên</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- Edit Staff Modal -->
                <div id="editStaffModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Sửa Nhân Viên</h3>
                            <span class="close-btn" onclick="closeModal('editStaffModal')">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form onsubmit="capNhatNhanVien(event)">
                                <input type="hidden" id="editStaffId">

                                <div class="form-group">
                                    <label>Họ tên:</label>
                                    <input type="text" id="editStaffName" required placeholder="Nhập họ tên">
                                </div>
                                <div class="form-group">
                                    <label>Chức vụ:</label>
                                    <select id="editStaffRole" required>
                                        <option value="stylist">Stylist</option>
                                        <option value="skincare">Chuyên viên da</option>
                                        <option value="reception">Lễ tân</option>
                                        <option value="manager">Quản lý</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Số điện thoại:</label>
                                    <input type="tel" id="editStaffPhone" required placeholder="VD: 0912345678">
                                </div>
                                <div class="form-group">
                                    <label>Địa chỉ:</label>
                                    <input type="text" id="editStaffAddress" placeholder="Nhập địa chỉ nhân viên">
                                </div>
                                <div class="form-group">
                                    <label>Ngày sinh:</label>
                                    <input type="date" id="editStaffBirth">
                                </div>
                                <div class="form-group">
                                    <label>Tài khoản:</label>
                                    <input type="text" id="editStaffAccount" placeholder="Nhập tài khoản">
                                </div>
                                <div class="form-group">
                                    <label>Chi nhánh:</label>
                                    <input type="text" id="editStaffBranch" placeholder="Nhập mã chi nhánh">
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn secondary"
                                        onclick="closeModal('editStaffModal')">Hủy</button>
                                    <button type="submit" class="btn primary">Cập nhật</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Invoices -->
                <div id="invoices" class="section">
                    <div class="panel header-actions">
                        <h2>Hoá đơn</h2>
                        <button id="addInvoiceBtn" class="btn primary" onclick="openModal('addInvoiceModal')">Thêm hoá
                            đơn</button>
                    </div>
                    <div class="panel">
                        <table class="table" id="invoicesTable">
                            <thead>
                                <tr>
                                    <th>Mã HĐ</th>
                                    <th>Mã KM</th>
                                    <th>Tổng Tiền</th>
                                    <th>Hình Thức TT</th>
                                    <th>Mã NV</th>
                                    <th>Mã Lịch Hẹn</th>
                                    <th>Trạng Thái</th>
                                    <th>Hành Động</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
                <!-- Add Invoice Modal -->
                <div id="addInvoiceModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Thêm Hoá Đơn</h3>
                            <span class="close-btn" onclick="closeModal('addInvoiceModal')">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form id="addInvoiceForm">
                                <div class="form-group">
                                    <label>Mã KM:</label>
                                    <input type="text" id="invoicePromoId" placeholder="Nhập mã khuyến mại">
                                </div>
                                <div class="form-group">
                                    <label>Tổng tiền:</label>
                                    <input type="number" id="invoiceTotal" required placeholder="VD: 500000">
                                </div>
                                <div class="form-group">
                                    <label>Hình thức thanh toán:</label>
                                    <select id="invoicePaymentMethod" required>
                                        <option value="cash">Tiền mặt</option>
                                        <option value="card">Thẻ</option>
                                        <option value="online">Chuyển khoản/Online</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Mã NV:</label>
                                    <input type="text" id="invoiceStaffId" placeholder="Nhập mã nhân viên">
                                </div>
                                <div class="form-group">
                                    <label>Mã Lịch Hẹn:</label>
                                    <input type="text" id="invoiceBookingId" placeholder="Nhập mã lịch hẹn">
                                </div>
                                <div class="form-group">
                                    <label>Trạng thái:</label>
                                    <select id="invoiceStatus">
                                        <option value="paid">Đã thanh toán</option>
                                        <option value="pending">Chưa thanh toán</option>
                                        <option value="cancelled">Huỷ</option>
                                    </select>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn secondary"
                                        onclick="closeModal('addInvoiceModal')">Hủy</button>
                                    <button type="submit" class="btn primary">Lưu hoá đơn</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Edit Invoice Modal -->
                <div id="editInvoiceModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Sửa Hoá Đơn</h3>
                            <span class="close-btn" onclick="closeModal('editInvoiceModal')">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form onsubmit="capNhatHoaDon(event)">
                                <input type="hidden" id="editInvoiceId">
                                <div class="form-group">
                                    <label>Mã KM:</label>
                                    <input type="text" id="editInvoicePromoId" placeholder="Nhập mã khuyến mại">
                                </div>
                                <div class="form-group">
                                    <label>Tổng tiền:</label>
                                    <input type="number" id="editInvoiceTotal" required placeholder="VD: 500000">
                                </div>
                                <div class="form-group">
                                    <label>Hình thức thanh toán:</label>
                                    <select id="editInvoicePaymentMethod" required>
                                        <option value="cash">Tiền mặt</option>
                                        <option value="card">Thẻ</option>
                                        <option value="online">Chuyển khoản/Online</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Mã NV:</label>
                                    <input type="text" id="editInvoiceStaffId" placeholder="Nhập mã nhân viên">
                                </div>
                                <div class="form-group">
                                    <label>Mã Lịch Hẹn:</label>
                                    <input type="text" id="editInvoiceBookingId" placeholder="Nhập mã lịch hẹn">
                                </div>
                                <div class="form-group">
                                    <label>Trạng thái:</label>
                                    <select id="editInvoiceStatus">
                                        <option value="paid">Đã thanh toán</option>
                                        <option value="pending">Chưa thanh toán</option>
                                        <option value="cancelled">Huỷ</option>
                                    </select>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn secondary"
                                        onclick="closeModal('editInvoiceModal')">Hủy</button>
                                    <button type="submit" class="btn primary">Cập nhật</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>


                <!-- Bookings -->
                <div id="bookings" class="section">
                    <div class="panel header-actions">
                        <h2>Lịch hẹn</h2>
                        <button id="addBookingBtn" class="btn primary" onclick="openModal('addBookingModal')">Thêm lịch
                            hẹn</button>
                    </div>
                    <div class="panel">
                        <table class="table" id="bookingsTable">
                            <thead>
                                <tr>
                                    <th>Mã Lịch Hẹn</th>
                                    <th>Ngày Hẹn</th>
                                    <th>Trạng Thái</th>
                                    <th>Mã NV</th>
                                    <th>Mã KH</th>
                                    <th>Mã Chi Nhánh</th>
                                    <th>Hành Động</th>
                                </tr>
                            </thead>
                            <tbody></tbody>

                        </table>
                    </div>
                </div>
                <!-- Add Booking Modal -->
                <div id="addBookingModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Thêm Lịch Hẹn</h3>
                            <span class="close-btn" onclick="closeModal('addBookingModal')">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form id="addBookingForm">
                                <div class="form-group">
                                    <label>Ngày hẹn:</label>
                                    <input type="date" id="bookingDate" required>
                                </div>
                                <div class="form-group">
                                    <label>Trạng thái:</label>
                                    <select id="bookingStatus" required>
                                        <option value="pending">Chờ xác nhận</option>
                                        <option value="confirmed">Đã xác nhận</option>
                                        <option value="completed">Hoàn thành</option>
                                        <option value="cancelled">Huỷ</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Mã NV:</label>
                                    <input type="text" id="bookingStaffId" placeholder="Nhập mã nhân viên">
                                </div>
                                <div class="form-group">
                                    <label>Mã KH:</label>
                                    <input type="text" id="bookingCustomerId" placeholder="Nhập mã khách hàng">
                                </div>
                                <div class="form-group">
                                    <label>Mã Chi Nhánh:</label>
                                    <input type="text" id="bookingBranchId" placeholder="Nhập mã chi nhánh">
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn secondary"
                                        onclick="closeModal('addBookingModal')">Hủy</button>
                                    <button type="submit" class="btn primary">Lưu lịch hẹn</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Edit Booking Modal -->
                <div id="editBookingModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Sửa Lịch Hẹn</h3>
                            <span class="close-btn" onclick="closeModal('editBookingModal')">&times;</span>
                        </div>
                        <div class="modal-body">
                            <form onsubmit="capNhatLichHen(event)">
                                <input type="hidden" id="editBookingId">
                                <div class="form-group">
                                    <label>Ngày hẹn:</label>
                                    <input type="date" id="editBookingDate" required>
                                </div>
                                <div class="form-group">
                                    <label>Trạng thái:</label>
                                    <select id="editBookingStatus" required>
                                        <option value="pending">Chờ xác nhận</option>
                                        <option value="confirmed">Đã xác nhận</option>
                                        <option value="completed">Hoàn thành</option>
                                        <option value="cancelled">Huỷ</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Mã NV:</label>
                                    <input type="text" id="editBookingStaffId" placeholder="Nhập mã nhân viên">
                                </div>
                                <div class="form-group">
                                    <label>Mã KH:</label>
                                    <input type="text" id="editBookingCustomerId" placeholder="Nhập mã khách hàng">
                                </div>
                                <div class="form-group">
                                    <label>Mã Chi Nhánh:</label>
                                    <input type="text" id="editBookingBranchId" placeholder="Nhập mã chi nhánh">
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn secondary"
                                        onclick="closeModal('editBookingModal')">Hủy</button>
                                    <button type="submit" class="btn primary">Cập nhật</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>


                <!-- Reports -->
                <div id="reports" class="section">
                    <div class="panel header-actions">
                        <h2>Báo cáo thống kê</h2>
                        <div class="report-filter">
                            <select id="reportTime" onchange="updateCharts()">
                                <option value="week">7 ngày qua</option>
                                <option value="month">Tháng này</option>
                                <option value="year">Năm nay</option>
                            </select>
                            <button class="btn primary"><i class="fas fa-download"></i> Xuất Excel</button>
                        </div>
                    </div>

                    <div class="cards">
                        <div class="card">
                            <h3>Tổng Doanh Thu</h3>
                            <p id="reportRevenue" style="color: #2ecc71;">154.500.000₫</p>
                            <small>+12% so với tháng trước</small>
                        </div>
                        <div class="card">
                            <h3>Tổng Lịch Hẹn</h3>
                            <p id="reportBookings">342</p>
                            <small>Thành công: 310</small>
                        </div>
                        <div class="card">
                            <h3>Khách Hàng Mới</h3>
                            <p id="reportNewCustomers">45</p>
                            <small>Tăng trưởng: 5%</small>
                        </div>
                    </div>

                    <div class="charts-container"
                        style="display: grid; grid-template-columns: 2fr 1fr; gap: 20px; margin-top: 20px;">

                        <div class="panel">
                            <h3>Biểu đồ doanh thu</h3>
                            <canvas id="revenueChart"></canvas>
                        </div>

                        <div class="panel">
                            <h3>Tỷ lệ dịch vụ</h3>
                            <canvas id="serviceChart"></canvas>
                        </div>
                    </div>

                    <div class="panel" style="margin-top: 20px;">
                        <h3>Top Nhân Viên Xuất Sắc (Tháng)</h3>
                        <canvas id="staffChart" height="80"></canvas>
                    </div>
                </div>

            </section>
        </main>
    </div>
</body>

</html>